```{=html}
<style>
.calendar, .this-week {
  padding-left: 15px;
  padding-right: 15px;
}
.calendar .week-x-box, .this-week .week-x-box {
  display: grid;
  grid-auto-flow: column;
  grid-template-columns: repeat(auto-fit, minmax(0, 1fr));
  min-height: 200px;
  gap: 8px;
}
.calendar .week-x-box .daily-sched, .this-week .week-x-box .daily-sched {
  padding: 3px 8px 17px 8px;
  border-radius: 8px; 
  /* background-color: #F5F5F7; */
}
.calendar .week-x-box .daily-sched .date-cell, .this-week .week-x-box .daily-sched .date-cell {
  text-align: center;
  font-variant: small-caps;
  font-size: 0.8em;
}
.calendar .week-x-box .daily-sched .daily-topic-cell, .this-week .week-x-box .daily-sched .daily-topic-cell {
  padding: .0rem .75rem .5rem .75rem; 
}
.calendar .week-x-box .daily-sched .daily-topic-cell .daily-topic, .this-week .week-x-box .daily-sched .daily-topic-cell .daily-topic {
  font-size: 1.1em;
}
.calendar .week-x-box .daily-sched .items-cell, .this-week .week-x-box .daily-sched .items-cell {
  padding-left: 12px;
}
.calendar .week-x-box .daily-sched .items-cell .before-in-class, .this-week .week-x-box .daily-sched .items-cell .before-in-class {
  font-size: 0.8em;
}

@media (max-width: 768px) {
  .calendar .week-x-box, .this-week .week-x-box {
    grid-auto-flow: row; /* Ensures it flows in one column */
    grid-template-columns: 1fr;
  }
}
/* resource links */
.res {
  display:inline-flex; align-items:center; gap:.25rem;
  font-size:.8rem;
  padding:.25rem .5rem;
  border:1px solid #d1d5db;
  border-radius:.5rem;
  background:#f8f9fa;
  color:#374151;
  text-decoration:none;
  transition:background .15s ease, border-color .15s ease;
}
.res:hover {
  background:#e5e7eb; /* light gray hover */
  border-color:#9ca3af;
}
.res i { font-size:.9em; }

.res.unpublished, .res[aria-disabled="true"] {
  color: #9ca3af;          /* gray text */
  border-color: #d1d5db;   /* lighter border */
  background: #f3f4f6;     /* muted background */
  cursor: not-allowed;
  pointer-events: none;    /* actually blocks clicking */
}


/* TODO: set up unit color in upper right corner */
/* if you uncomment the next line you can see the design. */
/* .daily-sched   { --unit-color: #d74d57; } */

.daily-sched{
  position:relative;
  border-radius:10px; background:#f6f7f9; overflow:hidden;
}

/* diagonal corner ribbon */
.daily-sched::after{
  content:"";
  position:absolute; top:0; right:0;
  width:0; height:0;
  border-top: 22px solid var(--unit-color, transparent);
  border-left:22px solid transparent;
  opacity:.9;
}

/* optional: rounded corner look instead of triangle */
.daily-sched.unit--rounded::after{
  border-top-right-radius:10px;  /* when using a block instead of triangle */
}


</style>
```

```{=html}
<div class="calendar">
<% for (const week of items) { %>
  <!-- Create each week -->
  <h4>Week <%= week.week %></h4>
  <div class="week-x-box">

  <% for (const day of week.days) { %>
    <!-- Create each day -->
    <div class="daily-sched">
    <div class="date-cell">
    <span><%= day['display-date'] %></span>
    </div>
    <div class="daily-topic-cell">
    <span class="daily-topic"><%= day.topic %></span>
    </div>

    <div class="items-cell">
    <!-- Create btns for docs -->
    <!-- ...docs listed under before-class key -->
    <% if (day['before-class'] !== undefined) { %>
      <div>
      <span class="before-in-class">Before class:</span><br>
      <% if (day['before-class'].docs && day['before-class'].docs.length > 0) { %>
        <% for (const doc of day['before-class'].docs) { %>
          <% if (doc['hide-from-schedule'] === undefined || doc['hide-from-schedule'] === false){ %>
            <% let label = doc.label ? doc.label : doc.type; %>
            <% if (doc["sub-type"] && doc["sub-type"].trim() !== "") { %>
              <%  label = `${label}: ${doc["sub-type"]}`; %>
            <% } %>
            <% if (!doc.draft){ %>
              <a href="<%= doc.href %>" class="res <%=`${label}-res`%>" ><%= label %></a>
            <% } else if (doc.projectProfile === "staff-site") { %>
              <a href="<%= doc.href %>" class="res <%=`${label}-res`%>"><%= label %></a>
            <% } else { %>
              <span class="res unpublished"><%= label %></span>
            <% } %>
          <% } %>
        <% } %>
      <% } %>
      </div>
    <% } %>
    <!-- ...docs listed under in-class key -->
    <% if (day['in-class'] !== undefined) { %>
      <div>
      <span class="before-in-class">In class:</span><br>
      <% if (day['in-class'].docs && day['in-class'].docs.length > 0) { %>
        <% for (const doc of day['in-class'].docs) { %>
          <% if (doc['hide-from-schedule'] === undefined || doc['hide-from-schedule'] === false){ %>
            <% let label = doc.label ? doc.label : doc.type; %>
            <% if (doc["sub-type"] && doc["sub-type"].trim() !== "") { %>
              <%  label = `${label}: ${doc["sub-type"]}`; %>
            <% } %>
            <% if (!doc.draft){ %>
              <a href="<%= doc.href %>" class="res <%=`${label}-res`%>" ><%= label %></a>
            <% } else if (doc.projectProfile === "staff-site") { %>
              <a href="<%= doc.href %>" class="res <%=`${label}-res`%>"><%= label %></a>
            <% } else { %>
              <span class="res unpublished"><%= label %></span>
            <% } %>
          <% } %>
        <% } %>
      <% } %>
      </div>
    <% } %>
    <!-- ...docs listed directly under day item -->
    <% if (day.docs && day.docs.length > 0) { %>
      <div>
      <% for (const doc of day.docs) { %>
        <% if (doc['hide-from-schedule'] === undefined || doc['hide-from-schedule'] === false){ %>
          <% let label = doc.label ? doc.label : doc.type; %>
          <% if (doc["sub-type"] && doc["sub-type"].trim() !== "") { %>
            <%  label = `${label}: ${doc["sub-type"]}`; %>
          <% } %>
          <% if (!doc.draft){ %>
            <a href="<%= doc.href %>" class="res <%=`${label}-res`%>" ><%= label %></a>
          <% } else if (doc.projectProfile === "staff-site") { %>
            <a href="<%= doc.href %>" class="res <%=`${label}-res`%>"><%= label %></a>
          <% } else { %>
            <span class="res unpublished"><%= label %></span>
          <% } %>
        <% } %>
      <% } %>
      </div>
    <% } %>
    <!-- ...things that are due tomorrow -->
    <% if (day['due-tomorrow'] !== undefined) { %>
      <div>
      <span class="before-in-class">Due tomorrow:</span><br>
      <% if (day['due-tomorrow'].length > 0) { %>
        <ul class="assignment-list">
        <% for (const assignment of day['due-tomorrow']) { %>
          <li><%= assignment %></li>
        <% } %>
        </ul>
      <% } %>
      </div>
    <% } %>
    </div>
    </div>
    
  <% } %>
  
  </div>
<% } %>

</div>

```